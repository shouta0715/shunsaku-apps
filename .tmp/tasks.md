# タスクリスト - パスワード生成ツール

## 概要

- **総タスク数**: 15タスク
- **推定作業時間**: 2-3日（8-12時間）
- **優先度**: 高（必須機能完全実装）

## タスク一覧

### Phase 1: 基盤実装

#### Task 1.1: 型定義とユーティリティの実装

- [ ] `src/types/password.ts` を作成し、PasswordSettings, PasswordStrength 型を定義
- [ ] `src/utils/` ディレクトリを作成
- [ ] Web Crypto API を使用した `generatePassword` 関数の実装
- [ ] パスワード強度計算の `calculateStrength` 関数の実装
- [ ] クリップボード操作の `copyToClipboard` 関数の実装
- [ ] `pnpm lint` を実行しエラーが0件であることを確認
- [ ] Prettierでフォーマットを実行
- **完了条件**: 全ての型定義とユーティリティ関数が実装され、型安全でセキュアな乱数生成が動作 + コード品質チェックがパス
- **依存**: なし
- **推定時間**: 2時間

#### Task 1.2: パスワード生成ロジックの実装

- [ ] `src/utils/passwordGenerator.ts` でセキュアなパスワード生成関数を実装
- [ ] 文字セット（大文字・小文字・数字・記号）の定義と選択ロジック
- [ ] 類似文字除外オプション（0/O, 1/l/I等）の実装
- [ ] パスワード長（4-128文字）のバリデーション実装
- [ ] Web Crypto API のエラーハンドリングと fallback 実装
- [ ] `pnpm lint` を実行しエラーが0件であることを確認
- [ ] Prettierでフォーマットを実行
- **完了条件**: 要件通りのパスワード生成が100ms以内で動作し、セキュリティ要件を満たす + コード品質チェックがパス
- **依存**: Task 1.1
- **推定時間**: 1.5時間

#### Task 1.3: パスワード強度計算の実装

- [ ] `src/utils/passwordStrength.ts` で強度計算アルゴリズムを実装
- [ ] 強度スコア（0-4）とラベル（Very Weak～Strong）の計算
- [ ] フィードバックメッセージの生成機能
- [ ] 文字種多様性、長さ、パターンの評価ロジック
- [ ] `pnpm lint` を実行しエラーが0件であることを確認
- [ ] Prettierでフォーマットを実行
- **完了条件**: パスワード強度が適切に計算され、ユーザーフレンドリーなフィードバックが提供される + コード品質チェックがパス
- **依存**: Task 1.1
- **推定時間**: 1時間

#### Task 1.4: PasswordControlsコンポーネントの実装

- [ ] `src/components/password-controls.tsx` を作成
- [ ] 既存のFieldset, Switch, Input, Textコンポーネントを活用
- [ ] パスワード長入力（4-128範囲）のUI実装
- [ ] 文字種別選択（大文字・小文字・数字・記号）のSwitchUI実装  
- [ ] 類似文字除外オプションのUI実装
- [ ] バリデーション機能とリアルタイムフィードバック
- [ ] Tailwind CSSのユーティリティクラスのみを使用してスタイリング
- [ ] `pnpm lint` を実行しエラーが0件であることを確認
- [ ] Prettierでフォーマットを実行
- [ ] `pnpm build` を実行しビルドが成功することを確認
- **完了条件**: 設定UI が直感的に操作でき、バリデーション機能が正常動作 + 全コード品質チェックがパス
- **依存**: Task 1.1
- **推定時間**: 2時間

#### Task 1.5: PasswordDisplayコンポーネントの実装

- [ ] `src/components/password-display.tsx` を作成
- [ ] 既存のInput, Buttonコンポーネントを読み取り専用で活用
- [ ] 生成されたパスワードの表示UI（Geist Monoフォント使用）
- [ ] パスワード表示/非表示切り替え機能の実装
- [ ] コピーボタンの実装とクリップボード API統合
- [ ] コピー成功時の視覚的フィードバック（アニメーション）
- [ ] Tailwind CSSのユーティリティクラスのみを使用してスタイリング
- [ ] `pnpm lint` を実行しエラーが0件であることを確認
- [ ] Prettierでフォーマットを実行
- [ ] `pnpm build` を実行しビルドが成功することを確認
- **完了条件**: パスワード表示とコピー機能が全ブラウザで正常動作 + 全コード品質チェックがパス
- **依存**: Task 1.1
- **推定時間**: 1.5時間

### Phase 2: 機能拡張

#### Task 2.1: PasswordStrengthコンポーネントの実装

- [ ] `src/components/password-strength.tsx` を作成
- [ ] 既存のBadge, Textコンポーネントを活用
- [ ] パスワード強度の視覚的表示（色分けバッジ）
- [ ] 強度に応じた色設定（red: 弱い, amber: 普通, green: 強い）
- [ ] フィードバックメッセージの表示機能
- [ ] リアルタイム強度更新の実装
- [ ] Tailwind CSSのユーティリティクラスのみを使用してスタイリング
- [ ] `pnpm lint` を実行しエラーが0件であることを確認
- [ ] Prettierでフォーマットを実行
- [ ] `pnpm build` を実行しビルドが成功することを確認
- **完了条件**: パスワード強度が適切に表示され、ユーザーが強度を直感的に理解できる + 全コード品質チェックがパス
- **依存**: Task 1.3
- **推定時間**: 1時間

#### Task 2.2: PasswordGeneratorメインコンポーネントの実装

- [ ] `src/components/password-generator.tsx` を作成
- [ ] 既存のFieldset, Headingコンポーネントを活用してレイアウト構築
- [ ] 全サブコンポーネント（Controls, Display, Strength）の統合
- [ ] React hooks（useState, useCallback, useMemo）での状態管理
- [ ] エラーバウンダリーの実装
- [ ] パスワード生成・再生成ボタンの実装
- [ ] Tailwind CSSのユーティリティクラスのみを使用してスタイリング
- [ ] `pnpm lint` を実行しエラーが0件であることを確認
- [ ] Prettierでフォーマットを実行
- [ ] `pnpm build` を実行しビルドが成功することを確認
- **完了条件**: 全てのコンポーネントが統合され、完全なパスワード生成フローが動作 + 全コード品質チェックがパス
- **依存**: Task 1.4, Task 1.5, Task 2.1
- **推定時間**: 2時間

#### Task 2.3: メインページの統合と実装

- [ ] `src/app/page.tsx` を更新してPasswordGeneratorコンポーネントを統合
- [ ] ページタイトル、メタ情報の設定
- [ ] レスポンシブレイアウトの実装（モバイルファースト）
- [ ] 白基調デザインの確認とダークモード動作確認
- [ ] 既存のlayout.tsxとの統合確認
- [ ] Tailwind CSSのユーティリティクラスのみを使用してスタイリング
- [ ] `pnpm lint` を実行しエラーが0件であることを確認
- [ ] Prettierでフォーマットを実行
- [ ] `pnpm build` を実行しビルドが成功することを確認
- **完了条件**: パスワード生成ツールが完全に動作し、レスポンシブ対応済み + 全コード品質チェックがパス
- **依存**: Task 2.2
- **推定時間**: 1時間

#### Task 2.4: 設定の永続化実装

- [ ] `src/utils/storage.ts` を作成
- [ ] sessionStorageを使用した設定保存機能の実装（localStorageは使用禁止）
- [ ] 設定の読み込み・保存・削除機能
- [ ] デフォルト設定への復旧機能
- [ ] プライバシー重視の実装（パスワード自体は保存しない）
- [ ] `pnpm lint` を実行しエラーが0件であることを確認
- [ ] Prettierでフォーマットを実行
- **完了条件**: 設定が適切に保存・復元され、セキュリティ要件を満たす + コード品質チェックがパス
- **依存**: Task 2.2
- **推定時間**: 1時間

### Phase 3: UX向上

#### Task 3.1: PasswordHistoryコンポーネントの実装

- [ ] `src/components/password-history.tsx` を作成
- [ ] 既存のText, Buttonコンポーネントを活用
- [ ] セッション内パスワード履歴表示（最大10件）
- [ ] 履歴からのパスワード再選択機能
- [ ] 履歴クリア機能の実装
- [ ] sessionStorage を使用した履歴管理
- [ ] Tailwind CSSのユーティリティクラスのみを使用してスタイリング
- [ ] `pnpm lint` を実行しエラーが0件であることを確認
- [ ] Prettierでフォーマットを実行
- [ ] `pnpm build` を実行しビルドが成功することを確認
- **完了条件**: パスワード履歴が適切に管理され、ユーザビリティが向上 + 全コード品質チェックがパス
- **依存**: Task 2.4
- **推定時間**: 1.5時間

#### Task 3.2: アニメーション機能の実装

- [ ] Framer Motionを使用したページ遷移アニメーション
- [ ] パスワード生成時のフェードイン/アウト効果
- [ ] コピー成功時の視覚的フィードバック強化
- [ ] 強度変更時のスムーズな色変化アニメーション
- [ ] ホバー効果とクリックフィードバックの実装
- [ ] `pnpm lint` を実行しエラーが0件であることを確認
- [ ] Prettierでフォーマットを実行
- **完了条件**: アニメーションが自然で、UXを向上させる + コード品質チェックがパス
- **依存**: Task 2.3
- **推定時間**: 1時間

#### Task 3.3: プリセット機能の実装

- [ ] `src/components/password-presets.tsx` を作成
- [ ] 既存のButton, Selectコンポーネントを活用
- [ ] プリセット設定（弱い・標準・強い・最強）の定義
- [ ] カスタムプリセットの保存・削除機能
- [ ] プリセット適用時の設定自動更新
- [ ] Tailwind CSSのユーティリティクラスのみを使用してスタイリング
- [ ] `pnpm lint` を実行しエラーが0件であることを確認
- [ ] Prettierでフォーマットを実行
- [ ] `pnpm build` を実行しビルドが成功することを確認
- **完了条件**: プリセット機能が直感的に操作でき、効率的にパスワード生成できる + 全コード品質チェックがパス
- **依存**: Task 2.4
- **推定時間**: 1.5時間

### Phase 4: 検証・テスト

#### Task 4.1: 品質保証とバグ修正

- [ ] 全機能の動作確認（必須機能7項目の網羅的テスト）
- [ ] 異なるブラウザでの動作検証（Chrome, Firefox, Safari, Edge）
- [ ] モバイルデバイスでの操作性確認
- [ ] パフォーマンステスト（100ms以内のパスワード生成確認）
- [ ] セキュリティ要件の最終確認（Web Crypto API使用確認）
- [ ] アクセシビリティ基準の確認（キーボードナビゲーション等）
- [ ] 最終的な `pnpm lint` と `pnpm build` の実行
- **完了条件**: 全ての要件を満たし、本番利用可能な品質に到達
- **依存**: Task 3.3
- **推定時間**: 1時間

#### Task 4.2: ドキュメント整備

- [ ] README.md の使用方法セクションの更新
- [ ] コンポーネントのJSDoc コメント追加
- [ ] 実装した機能の動作確認手順書作成
- [ ] Prettierでフォーマットを実行
- **完了条件**: ドキュメントが完全で、第三者が理解できる状態
- **依存**: Task 4.1
- **推定時間**: 30分

## 実装順序

1. **Phase 1から順次実行**（基盤がないと後の実装不可）
2. **並行実行可能なタスク**:
   - Task 1.2, Task 1.3（Task 1.1完了後）
   - Task 1.4, Task 1.5（Task 1.1完了後）
   - Task 3.1, Task 3.2, Task 3.3（Task 2.4完了後）
3. **依存関係を考慮した実装順序**: 必ず前提タスクの完了を確認してから次に進む

## リスクと対策

- **Web Crypto API未対応ブラウザ**: Math.random() でのfallback実装で対策
- **クリップボードAPI制限**: 手動選択での代替操作フローを用意
- **パフォーマンス劣化**: useCallback/useMemoでの最適化、必要に応じてWeb Workers検討
- **レスポンシブ対応漏れ**: 各タスクでモバイル・デスクトップ両方でのテスト実施

## 品質チェックプロセス

### 各タスクで必須のチェック項目

1. **ESLint**: `pnpm lint` でエラーが0件
2. **Prettier**: 全ファイルがフォーマット済み
3. **Tailwind CSS**: ユーティリティクラスのみ使用、カスタムCSS禁止
4. **Build**: `pnpm build` がエラーなく完了
5. **Type Check**: TypeScript strict mode でエラー0件

### 品質チェック失敗時の対応

- **ESLintエラー**: 必ず修正してからタスクを完了とする
- **Prettierフォーマット**: `pnpm format` で自動修正を適用
- **Tailwindクラス**: カスタムCSSをユーティリティクラスに置換
- **ビルドエラー**: エラーを修正してからタスク完了
- **TypeScriptエラー**: anyタイプ使用禁止、適切な型付けで解決

## 注意事項

- **各タスクはコミット単位で完結させる**
- **必須**: タスク完了時は品質チェックを実行
- **セキュリティ最優先**: パスワード関連データの適切な取り扱い
- **既存コンポーネント活用**: 25個の既存UIコンポーネントを最大限活用
- **白基調 + ダークモード**: 既存のCSS変数とprefers-color-schemeを活用
- **必須**: ESLint/Prettier/Tailwindの規約に100%準拠

## 実装開始ガイド

1. **このタスクリストに従って順次実装を進めてください**
2. **各タスクの開始時にTodoWriteでin_progressに更新**
3. **完了時はcompletedに更新**  
4. **問題発生時は速やかに報告してください**
5. **品質チェックは各タスク完了の必須条件です**

## 成功基準

- ✅ 全ての必須機能（7項目）が実装済み
- ✅ セキュアなパスワード生成（Web Crypto API使用）
- ✅ レスポンシブデザイン完全対応
- ✅ コード品質チェック100%クリア
- ✅ 白基調デザイン + ダークモード自動切り替え